(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df7e035a"],{1937:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 工资表查询 ")])},n=[],i={name:"SalSearch"},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"673c6c5d",null);e["default"]=o.exports},"21c7":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 工资表 ")])},n=[],i={name:"SalTable"},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"175d9eba",null);e["default"]=o.exports},"2bc5":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:t.showAddSal}},[t._v("add")]),a("el-button",{attrs:{type:"success",icon:"el-icon-refresh",size:"mini"},on:{click:t.initSals}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{attrs:{data:t.sals,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{prop:"name",label:"账套名称",width:"120"}}),a("el-table-column",{attrs:{prop:"basicSalary",label:"基本工资",width:"70"}}),a("el-table-column",{attrs:{prop:"trafficSalary",label:"交通补助",width:"70"}}),a("el-table-column",{attrs:{prop:"lunchSalary",label:"午餐补助",width:"70"}}),a("el-table-column",{attrs:{prop:"bonus",label:"奖金",width:"70"}}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"100"}}),a("el-table-column",{attrs:{label:"养老金",align:"center"}},[a("el-table-column",{attrs:{prop:"pensionPer",label:"养老金比率",width:"90"}}),a("el-table-column",{attrs:{prop:"pensionBase",label:"养老金基数",width:"90"}})],1),a("el-table-column",{attrs:{label:"医疗保险",align:"center"}},[a("el-table-column",{attrs:{prop:"medicalPer",label:"医疗保险比率",width:"100"}}),a("el-table-column",{attrs:{prop:"medicalBase",label:"医疗保险基数",width:"100"}})],1),a("el-table-column",{attrs:{label:"公积金",align:"center"}},[a("el-table-column",{attrs:{prop:"accumulationFundPer",label:"公积金比率",width:"90"}}),a("el-table-column",{attrs:{prop:"accumulationFundBase",label:"公积金基数",width:"90"}})],1),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.showEditSal(e.row)}}},[t._v("edit")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.deleteSal(e.row)}}},[t._v("delete")])]}}])})],1)],1),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-around","align-items":"center"}},[a("el-steps",{attrs:{direction:"vertical",active:t.activeItemIndex}},t._l(t.salItemName,(function(t,e){return a("el-step",{key:e,attrs:{title:t}})})),1),t._l(t.sal,(function(e,l,n){return a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.activeItemIndex==n,expression:"activeItemIndex==index"}],key:n,staticStyle:{width:"200px"},attrs:{placeholder:"请输入"+t.salItemName[n]+"..."},model:{value:t.sal[l],callback:function(e){t.$set(t.sal,l,e)},expression:"sal[title]"}})}))],2),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.prevStep}},[t._v(t._s(10==t.activeItemIndex?"cancel":"prev"))]),a("el-button",{attrs:{type:"primary"},on:{click:t.nextStep}},[t._v(t._s(10==t.activeItemIndex?"confirm":"next"))])],1)])],1)},n=[],i=(a("b0c0"),{name:"SalSob",data:function(){return{sals:[],dialogVisible:!1,salItemName:["账套名称","基本工资","交通补助","午餐补助","奖金","养老金比率","养老金基数","医疗保险基数","医疗保险比率","公积金基数","公积金比率"],activeItemIndex:1,sal:{id:null,name:"",basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionPer:0,pensionBase:0,medicalPer:0,medicalBase:0,accumulationFundPer:0,accumulationFundBase:0},dialogTitle:""}},mounted:function(){this.initSals()},methods:{initSals:function(){var t=this;this.getRequest("/salary/sob/").then((function(e){e&&(t.sals=e)}))},showAddSal:function(){this.dialogTitle="添加工资账套",this.sal={name:"",basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,pensionPer:0,pensionBase:0,medicalPer:0,medicalBase:0,accumulationFundPer:0,accumulationFundBase:0},this.activeItemIndex=1,this.dialogVisible=!this.dialogVisible},nextStep:function(){var t=this;10!==this.activeItemIndex?this.activeItemIndex++:this.sal.id?(console.log(this.sal),this.putRequest("/salary/sob/",this.sal).then((function(e){e&&(t.initSals(),t.dialogVisible=!t.dialogVisible)}))):this.postRequest("/salary/sob/",this.sal).then((function(e){e&&(t.initSals(),t.dialogVisible=!t.dialogVisible)}))},prevStep:function(){0!==this.activeItemIndex&&(10!==this.activeItemIndex?this.activeItemIndex--:this.dialogVisible=!this.dialogVisible)},deleteSal:function(t){var e=this;this.$confirm("此操作将删除["+t.name+"]的相关信息，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRequest("/salary/sob/"+t.id).then((function(t){t&&e.initSals()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},showEditSal:function(t){this.dialogTitle="更新工资账套",this.sal={id:t.id,name:t.name,basicSalary:t.basicSalary,trafficSalary:t.trafficSalary,lunchSalary:t.lunchSalary,bonus:t.bonus,pensionPer:t.pensionPer,pensionBase:t.pensionBase,medicalPer:t.medicalPer,medicalBase:t.medicalBase,accumulationFundPer:t.accumulationFundPer,accumulationFundBase:t.accumulationFundBase},this.activeItemIndex=1,this.dialogVisible=!this.dialogVisible}}}),s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"0fe87349",null);e["default"]=o.exports},"6ac98":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.emps,stripe:"",border:"",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",align:"left",fixed:"",width:"120"}}),a("el-table-column",{attrs:{prop:"workID",label:"工号",align:"left",width:"120"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",align:"left",width:"200"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系方式",align:"left",width:"120"}}),a("el-table-column",{attrs:{prop:"department.name",label:"所属部门",align:"left",width:"120"}}),a("el-table-column",{attrs:{prop:"salary",label:"工资账套",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.salary?a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("table",[a("tr",[a("td",[t._v("基本工资")]),a("td",[t._v(t._s(e.row.salary.basicSalary))])]),a("tr",[a("td",[t._v("交通补助")]),a("td",[t._v(t._s(e.row.salary.trafficSalary))])]),a("tr",[a("td",[t._v("午餐补助")]),a("td",[t._v(t._s(e.row.salary.lunchSalary))])]),a("tr",[a("td",[t._v("奖金")]),a("td",[t._v(t._s(e.row.salary.bonus))])]),a("tr",[a("td",[t._v("养老金比率")]),a("td",[t._v(t._s(e.row.salary.pensionPer))])]),a("tr",[a("td",[t._v("养老金基数")]),a("td",[t._v(t._s(e.row.salary.pensionBase))])]),a("tr",[a("td",[t._v("医疗保险比率")]),a("td",[t._v(t._s(e.row.salary.medicalPer))])]),a("tr",[a("td",[t._v("医疗保险基数")]),a("td",[t._v(t._s(e.row.salary.medicalBase))])]),a("tr",[a("td",[t._v("公积金比率")]),a("td",[t._v(t._s(e.row.salary.accumulationFundPer))])]),a("tr",[a("td",[t._v("公积金基数")]),a("td",[t._v(t._s(e.row.salary.accumulationFundBase))])])])]),a("el-tag",[t._v(t._s(e.row.salary.name))])],1):a("el-tag",[t._v("暂未设置")])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"left",title:"编辑工资账套",trigger:"click"},on:{show:function(a){return t.showPop(e.row.salary)},hide:function(a){return t.hidePop(e.row)}}},[a("div",[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.currentSalary,callback:function(e){t.currentSalary=e},expression:"currentSalary"}},t._l(t.sals,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("edit")])],1)]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"10px"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:t.total},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})],1)],1)},n=[],i={name:"SalSobCfg",data:function(){return{emps:[],currentPage:1,size:10,total:0,sals:[],currentSalary:null}},mounted:function(){this.initEmps(),this.initSals()},methods:{initEmps:function(){var t=this;this.getRequest("salary/sobcfg/?currentPage="+this.currentPage+"&size="+this.size).then((function(e){e&&(t.emps=e.data,t.total=e.total)}))},currentChange:function(t){this.currentPage=t,this.initEmps()},sizeChange:function(t){this.size=t,this.initEmps()},initSals:function(){var t=this;this.getRequest("/salary/sobcfg/salaries").then((function(e){e&&(t.sals=e)}))},showPop:function(t){this.currentSalary=t?t.id:""},hidePop:function(t){var e=this;this.currentSalary&&this.currentSalary!=t.salary.id&&this.putRequest("/salary/sobcfg/?",{eid:t.id,sid:this.currentSalary}).then((function(t){t&&e.initEmps()}))}}},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"5ad8c38b",null);e["default"]=o.exports},d7e6:function(t,e,a){var l={"./SalMonth.vue":"fbac","./SalSearch.vue":"1937","./SalSob.vue":"2bc5","./SalSobCfg.vue":"6ac98","./SalTable.vue":"21c7"};function n(t){var e=i(t);return a(e)}function i(t){if(!a.o(l,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return l[t]}n.keys=function(){return Object.keys(l)},n.resolve=i,t.exports=n,n.id="d7e6"},fbac:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" 月末处理 ")])},n=[],i={name:"SalMonth"},s=i,r=a("2877"),o=Object(r["a"])(s,l,n,!1,null,"a7d5effc",null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-df7e035a.3d703cbe.js.map