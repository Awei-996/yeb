(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b533cea"],{"1fe7":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 系统管理 ")])},a=[],l={name:"SysCfg"},s=l,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,"344a823e",null);t["default"]=c.exports},3486:function(e,t,n){"use strict";n("f485")},"4de4":function(e,t,n){"use strict";var i=n("23e7"),a=n("b727").filter,l=n("1dde"),s=l("filter");i({target:"Array",proto:!0,forced:!s},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5448:function(e,t,n){},"7a11":function(e,t,n){},8608:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 初始化数据库 ")])},a=[],l={name:"SysInit"},s=l,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,"abf1d0c2",null);t["default"]=c.exports},"864e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 操作日志管理 ")])},a=[],l={name:"SysLog"},s=l,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,"7a6a3dfe",null);t["default"]=c.exports},"8d67":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"部门管理",name:"DepMana"}},[n("DepMana")],1),n("el-tab-pane",{attrs:{label:"职位管理",name:"PosMana"}},[n("PosMana")],1),n("el-tab-pane",{attrs:{label:"职称管理",name:"JobLevelMana"}},[n("JobLevelMana")],1),n("el-tab-pane",{attrs:{label:"奖惩规则",name:"EcMana"}},[n("EcMana")],1),n("el-tab-pane",{attrs:{label:"权限组",name:"PermissMana"}},[n("PermissMana")],1)],1)],1)},a=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"500px"}},[n("el-input",{attrs:{placeholder:"请输入部门名称进行搜索...","prefix-icon":"el-icon-search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("el-tree",{ref:"tree",attrs:{data:e.departments,props:e.defaultProps,"filter-node-method":e.filterNode,"expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return n("span",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[n("span",[e._v(" "+e._s(i.name))]),n("span",[n("el-button",{staticClass:"depBtn",attrs:{type:"primary",size:"mini"},on:{click:function(){return e.showAddDep(i)}}},[e._v("add")]),n("el-button",{staticClass:"depBtn",attrs:{type:"danger",size:"mini"},on:{click:function(){return e.deleteDep(i)}}},[e._v("delete")])],1)])}}])}),n("el-dialog",{attrs:{title:"添加部门",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("table",[n("tr",[n("td",[n("el-tag",[e._v("上级部门")])],1),n("td",[e._v(e._s(e.pName))])]),n("tr",[n("td",[n("el-tag",[e._v("部门名称")])],1),n("td",[n("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.dep.name,callback:function(t){e.$set(e.dep,"name",t)},expression:"dep.name"}})],1)])])]),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("cancel")]),n("el-button",{attrs:{type:"primary"},on:{click:e.addDep}},[e._v("confirm")])],1)])],1)},s=[],o=(n("4de4"),n("b0c0"),n("99af"),n("a434"),{name:"DepMana",data:function(){return{filterText:"",departments:[],defaultProps:{children:"children",label:"name"},dialogVisible:!1,dep:{name:"",parentId:-1},pName:""}},mounted:function(){this.initDepartments()},watch:{filterText:function(e){this.$refs.tree.filter(e)}},methods:{initDepartments:function(){var e=this;this.getRequest("/system/basic/department/").then((function(t){t&&(e.departments=t)}))},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},showAddDep:function(e){this.pName=e.name,this.dep.parentId=e.id,this.dialogVisible=!0},addDep:function(){var e=this;this.postRequest("/system/basic/department/",this.dep).then((function(t){t&&(e.addDepToDeps(e.departments,t.object),e.dialogVisible=!1,e.initDep())}))},initDep:function(){this.dep={name:"",parentId:-1},this.pName=""},addDepToDeps:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.id===t.parentId)return i.children=i.children.concat(t),void(i.children.length>0&&(i.isParent=!0));this.addDepToDeps(i.children,t)}},deleteDep:function(e){var t=this;e.isParent?this.$message.error("父部门删除失败"):this.$confirm("此操作将删除["+e.name+"]的角色信息，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/department/"+e.id).then((function(n){n&&t.removeDepFromDeps(null,t.departments,e.id)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},removeDepFromDeps:function(e,t,n){for(var i=0;i<t.length;i++){var a=t[i];if(a.id===n)return t.splice(i,1),void(0===t.length&&(e.isParent=!1));this.removeDepFromDeps(a,a.children,n)}}}}),c=o,r=(n("e090"),n("2877")),d=Object(r["a"])(c,l,s,!1,null,"32b88e71",null),u=d.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-input",{staticClass:"addPosInput",attrs:{placeholder:"添加职位...","suffix-icon":"el-icon-plus",size:"small"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPosition(t)}},model:{value:e.pos.name,callback:function(t){e.$set(e.pos,"name",t)},expression:"pos.name"}}),n("el-button",{staticClass:"add",attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.addPosition}},[e._v("add")])],1),n("div",{staticClass:"posMana"},[n("el-table",{staticStyle:{width:"70%"},attrs:{data:e.positions,stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"id",width:"55"}}),n("el-table-column",{attrs:{prop:"name",label:"name",width:"120"}}),n("el-table-column",{attrs:{prop:"createDate",label:"createDate",width:"200"}}),n("el-table-column",{attrs:{label:"actions "},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){return e.showEditView(t.$index,t.row)}}},[e._v("edit")]),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("delete")])]}}])})],1)],1),n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==this.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除")]),n("el-dialog",{attrs:{title:"编辑职位",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("el-tag",[e._v("职位名称")]),n("el-input",{staticClass:"updatePosInput",model:{value:e.updatePos.name,callback:function(t){e.$set(e.updatePos,"name",t)},expression:"updatePos.name"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("cancel")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doUpdate}},[e._v("confirm")])],1)])],1)},m=[],f=(n("159b"),{name:"PosMana",data:function(){return{pos:{name:""},positions:[],dialogVisible:!1,updatePos:{name:""},multipleSelection:[]}},mounted:function(){this.initPositions()},methods:{initPositions:function(){var e=this;this.getRequest("/system/basic/position/").then((function(t){t&&(e.positions=t,e.pos.name="")}))},showEditView:function(e,t){Object.assign(this.updatePos,t),this.updatePos.createDate="",this.dialogVisible=!0},handleDelete:function(e,t){var n=this;this.$confirm("此操作将删除["+t.name+"]的职位信息，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.deleteRequest("/system/basic/position/"+t.id).then((function(e){e&&n.initPositions()}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},addPosition:function(){var e=this;this.pos.name?this.postRequest("/system/basic/position/",this.pos).then((function(t){t&&e.initPositions()})):this.$message.error("职位名称不能为空 ")},doUpdate:function(){var e=this;this.putRequest("/system/basic/position/",this.updatePos).then((function(t){t&&(e.initPositions(),e.dialogVisible=!1)}))},handleSelectionChange:function(e){this.multipleSelection=e},deleteMany:function(){var e=this;this.$confirm("此操作将删除"+this.multipleSelection.length+"条职位信息，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/system/basic/position/"+t).then((function(t){t&&e.initPositions()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}}),h=f,v=(n("3486"),Object(r["a"])(h,p,m,!1,null,"4d4b64c2",null)),b=v.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"添加职称等级...","prefix-icon":"el-icon-plus",size:"small"},model:{value:e.jobLevel.name,callback:function(t){e.$set(e.jobLevel,"name",t)},expression:"jobLevel.name"}}),n("el-select",{staticStyle:{"margin-left":"8px"},attrs:{size:"small",placeholde:"请选择"},model:{value:e.jobLevel.titleLevel,callback:function(t){e.$set(e.jobLevel,"titleLevel",t)},expression:"jobLevel.titleLevel"}},e._l(e.titleLevels,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1),n("el-button",{staticClass:"add",attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addJobLevel}},[e._v("add")])],1),n("div",{staticStyle:{"margin-top":"10px"}},[n("el-table",{staticStyle:{width:"70%"},attrs:{data:e.jobLevels,stripe:"",border:"",size:"small"},on:{"selection-change":e.handleSelectChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"id",width:"55"}}),n("el-table-column",{attrs:{prop:"name",label:"name",width:"150"}}),n("el-table-column",{attrs:{prop:"titleLevel",label:"titleLevel",width:"150"}}),n("el-table-column",{attrs:{prop:"createDate",label:"createDate",width:"150"}}),n("el-table-column",{attrs:{prop:"enabled",label:"enabled",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?n("el-tag",{attrs:{type:"success"}},[e._v("enable")]):n("el-tag",{attrs:{type:"danger"}},[e._v("disable")])]}}])}),n("el-table-column",{attrs:{label:"action"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){return e.showEditView(t.row)}}},[e._v("edit")]),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return e.handleDelete(t.row)}}},[e._v("delete")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",size:"small",disabled:0==this.multipleSelection.length},on:{click:e.deleteMany}},[e._v("批量删除 ")])],1),n("el-dialog",{attrs:{title:"编辑职称",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("table",[n("tr",[n("td",[n("el-tag",[e._v("职称名称")])],1),n("td",[n("el-input",{staticClass:"updateNameInput",staticStyle:{"margin-left":"6px"},attrs:{size:"small"},model:{value:e.updateJob.name,callback:function(t){e.$set(e.updateJob,"name",t)},expression:"updateJob.name"}})],1)]),n("tr",[n("td",[n("el-tag",[e._v("职称等级")])],1),n("td",[n("el-select",{staticStyle:{"margin-left":"6px"},attrs:{size:"small",placeholde:"请选择"},model:{value:e.updateJob.titleLevel,callback:function(t){e.$set(e.updateJob,"titleLevel",t)},expression:"updateJob.titleLevel"}},e._l(e.titleLevels,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),n("tr",[n("td",[n("el-tag",[e._v("是否启用")])],1),n("td",[n("el-switch",{staticStyle:{"margin-left":"6px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"enable","inactive-text":"disable"},model:{value:e.updateJob.enabled,callback:function(t){e.$set(e.updateJob,"enabled",t)},expression:"updateJob.enabled"}})],1)])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("cancel")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doUpdate}},[e._v("confirm")])],1)])],1)},g=[],_={name:"JobLevel",data:function(){return{jobLevel:{name:"",titleLevel:"",enabled:!1},titleLevels:["正高级","副高级","中级","初级","员级"],jobLevels:[],updateJob:{name:"",titleLevel:"",enabled:!1},dialogVisible:!1,multipleSelection:[]}},mounted:function(){this.initJobLevels()},methods:{initJobLevels:function(){var e=this;this.getRequest("/system/basic/joblevel/").then((function(t){t&&(e.jobLevels=t,e.jobLevel.name="",e.jobLevel.titleLevel="")}))},addJobLevel:function(){var e=this;this.jobLevel.name&&this.jobLevel.titleLevel?this.postRequest("/system/basic/joblevel/",this.jobLevel).then((function(t){t&&e.initJobLevels()})):this.$message.error("字段不能为空")},showEditView:function(e){Object.assign(this.updateJob,e),this.updateJob.createDate="",this.dialogVisible=!0},doUpdate:function(){var e=this;this.putRequest("/system/basic/joblevel/",this.updateJob).then((function(t){t&&(e.initJobLevels(),e.dialogVisible=!1)}))},handleDelete:function(e){var t=this;this.$confirm("此操作将删除["+e.name+"]的所有信息，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/joblevel/"+e.id).then((function(e){console.log(e),e&&t.initJobLevels()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectChange:function(e){this.multipleSelection=e},deleteMany:function(){var e=this;this.$confirm("此操作将删除"+this.multipleSelection.length+"条职位信息，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/system/basic/joblevel/"+t).then((function(t){t&&e.initJobLevels()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}},x=_,k=(n("ad42"),Object(r["a"])(x,y,g,!1,null,"6fcceb34",null)),w=k.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},S=[],L={name:"EcMana"},$=L,M=Object(r["a"])($,R,S,!1,null,"36f5d62b",null),P=M.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"PermissManaTool"},[n("el-input",{attrs:{placeholder:"请输入角色英文名",size:"small"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}},[n("template",{slot:"prepend"},[e._v("ROLE_")])],2),n("el-input",{attrs:{placeholder:"请输入角色中文名",size:"small"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addRole(t)}},model:{value:e.role.nameZh,callback:function(t){e.$set(e.role,"nameZh",t)},expression:"role.nameZh"}}),n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addRole}},[e._v("add")])],1),n("div",{staticClass:"PermissManaMain"},[n("el-collapse",{attrs:{accordion:""},on:{change:e.change},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.roles,(function(t,i){return n("el-collapse-item",{key:i,attrs:{title:t.nameZh,name:t.id}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("可访问资源")]),n("el-button",{staticStyle:{float:"right",padding:"3px",color:"red"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.deleteRole(t)}}})],1),n("div",[n("el-tree",{key:i,ref:"tree",refInFor:!0,attrs:{data:e.allMenus,props:e.defaultProps,"show-checkbox":"","default-checked-keys":e.selectedMenus,"node-key":"id"}}),n("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[n("el-button",{attrs:{size:"mini"},on:{click:e.cancelUpdate}},[e._v("cancel")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.doUpdate(t.id,i)}}},[e._v("confirm")])],1)],1)])],1)})),1)],1)])},j=[],J={name:"PermissMana",data:function(){return{role:{name:"",nameZh:""},roles:[],allMenus:[],defaultProps:{children:"children",label:"name"},selectedMenus:[],activeName:-1}},mounted:function(){this.initRoles()},methods:{initRoles:function(){var e=this;this.getRequest("/system/basic/permission/").then((function(t){t&&(e.roles=t)}))},change:function(e){e&&(this.initAllMenus(),this.initSelectedMenus(e))},initAllMenus:function(){var e=this;this.getRequest("/system/basic/permission/menus").then((function(t){t&&(e.allMenus=t)}))},initSelectedMenus:function(e){var t=this;this.getRequest("/system/basic/permission/mid/"+e).then((function(e){e&&(t.selectedMenus=e)}))},doUpdate:function(e,t){var n=this,i=this.$refs.tree[t],a=i.getCheckedKeys(!0);this.putRequest("/system/basic/permission/",{rid:e,mIds:a}).then((function(e){e&&(n.activeName=-1)}))},cancelUpdate:function(){this.activeName=-1},addRole:function(){var e=this;this.role.name&&this.role.nameZh?this.postRequest("/system/basic/permission/role",this.role).then((function(t){t&&(e.initRoles(),e.role.name="",e.role.nameZh="")})):this.$message.error("所有字段不能为空")},deleteRole:function(e){var t=this;this.$confirm("此操作将删除["+e.name+"]的角色信息，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/permission/role/"+e.id).then((function(e){e&&t.initRoles()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},E=J,q=(n("da49"),Object(r["a"])(E,D,j,!1,null,"0a336d25",null)),z=q.exports,C={name:"SysBasic",data:function(){return{activeName:"DepMana"}},components:{DepMana:u,PosMana:b,JobLevelMana:w,EcMana:P,PermissMana:z}},T=C,V=Object(r["a"])(T,i,a,!1,null,"5853ae54",null);t["default"]=V.exports},a434:function(e,t,n){"use strict";var i=n("23e7"),a=n("23cb"),l=n("a691"),s=n("50c4"),o=n("7b0b"),c=n("65f0"),r=n("8418"),d=n("1dde"),u=d("splice"),p=Math.max,m=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,i,d,u,v,b,y=o(this),g=s(y.length),_=a(e,g),x=arguments.length;if(0===x?n=i=0:1===x?(n=0,i=g-_):(n=x-2,i=m(p(l(t),0),g-_)),g+n-i>f)throw TypeError(h);for(d=c(y,i),u=0;u<i;u++)v=_+u,v in y&&r(d,u,y[v]);if(d.length=i,n<i){for(u=_;u<g-i;u++)v=u+i,b=u+n,v in y?y[b]=y[v]:delete y[b];for(u=g;u>g-i+n;u--)delete y[u-1]}else if(n>i)for(u=g-i;u>_;u--)v=u+i-1,b=u+n-1,v in y?y[b]=y[v]:delete y[b];for(u=0;u<n;u++)y[u+_]=arguments[u+2];return y.length=g-i+n,d}})},ad42:function(e,t,n){"use strict";n("cc22")},cc22:function(e,t,n){},ce1f:function(e,t,n){},d1e3:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 备份恢复数据库 ")])},a=[],l={name:"SysData"},s=l,o=n("2877"),c=Object(o["a"])(s,i,a,!1,null,"7200ed40",null);t["default"]=c.exports},da49:function(e,t,n){"use strict";n("5448")},dd56:function(e,t,n){"use strict";n("ce1f")},e090:function(e,t,n){"use strict";n("7a11")},f485:function(e,t,n){},f86b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"10px"}},[n("el-input",{staticStyle:{width:"400px","margin-right":"8px"},attrs:{placeholder:"通过用户名搜索用户...","prefix-icon":"el-icon-search"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.doSearch}},[e._v("search")])],1),n("div",{staticClass:"admin_container"},e._l(e.admins,(function(t,i){return n("el-card",{key:i,staticClass:"admin_card"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(t.name))]),n("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.deleteAdmin(t)}}})],1),n("div",[n("div",{staticClass:"userInfo_container"},[n("div",[e._v("name: "+e._s(t.name))]),n("div",[e._v("phone: "+e._s(t.phone))]),n("div",[e._v("telephone: "+e._s(t.telephone))]),n("div",[e._v("address: "+e._s(t.address))]),n("div",[e._v(" enable: "),n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"enabled","inactive-text":"disabled"},on:{change:function(n){return e.enableUpdate(t)}},model:{value:t.enabled,callback:function(n){e.$set(t,"enabled",n)},expression:"admin.enabled"}})],1),n("div",[e._v(" role: "),e._l(t.roles,(function(t,i){return n("el-tag",{key:i,staticStyle:{"margin-right":"4px"},attrs:{type:"success"}},[e._v(e._s(t.nameZh)+" ")])})),n("el-popover",{attrs:{placement:"right",title:"角色列表",width:"200",trigger:"click"},on:{show:function(n){return e.showPop(t)},hide:function(n){return e.hidePop(t)}}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectRoles,callback:function(t){e.selectRoles=t},expression:"selectRoles"}},e._l(e.allRoles,(function(e,t){return n("el-option",{key:t,attrs:{label:e.nameZh,value:e.id}})})),1),n("el-button",{attrs:{slot:"reference",type:"text",icon:"el-icon-more"},slot:"reference"})],1)],2),n("div",[e._v("remark: "+e._s(t.remark))])])])])})),1)])},a=[],l=(n("b0c0"),n("159b"),{name:"SysAdmin",data:function(){return{admins:[],keywords:"",allRoles:[],selectRoles:[]}},mounted:function(){this.initAdmins()},methods:{initAdmins:function(){var e=this;this.getRequest("/system/admin/").then((function(t){t&&(e.admins=t)}))},doSearch:function(){var e=this;this.getRequest("/system/admin/?keywords="+this.keywords).then((function(t){t&&(e.admins=t)}))},deleteAdmin:function(e){var t=this;this.$confirm("此操作将删除操作员["+e.name+"]的信息，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/admin/"+e.id).then((function(e){e&&t.initAdmins()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},enableUpdate:function(e){var t=this;this.putRequest("/system/admin/",{id:e.id,enabled:e.enabled}).then((function(e){e&&t.initAdmins()}))},initAllRoles:function(){var e=this;this.getRequest("/system/admin/roles").then((function(t){t&&(e.allRoles=t)}))},showPop:function(e){var t=this;this.initAllRoles();var n=e.roles;this.selectRoles=[],n.forEach((function(e){t.selectRoles.push(e.id)}))},hidePop:function(e){var t=this;this.putRequest("/system/admin/role",{adminId:e.id,rids:this.selectRoles}).then((function(e){e&&t.initAdmins()}))}}}),s=l,o=(n("dd56"),n("2877")),c=Object(o["a"])(s,i,a,!1,null,"3160d820",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2b533cea.3d006edf.js.map